architecture: replicaset
replicaCount: 3

auth:
  enabled: true
  rootUser: root
  rootPassword: CHANGEME-STRONG
  usernames:
    - appuser
  passwords:
    - CHANGEME-APP
  databases:
    - appdb

persistence:
  enabled: true
  storageClass: linode-block-storage-retain
  size: 10Gi

arbiter:
  enabled: false

resources:
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1Gi

# Production hardening toggles
pdb:
  create: true
  minAvailable: 2

# Anti-affinity and topology spread to reduce risk of co-scheduling
podAntiAffinityPreset: hard
topologySpreadConstraints:
  - maxSkew: 1
    topologyKey: kubernetes.io/hostname
    whenUnsatisfiable: DoNotSchedule
    labelSelector:
      matchLabels:
        app.kubernetes.io/name: mongodb
